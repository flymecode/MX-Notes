## Set

set代表一种集合元素无序，集合元素不可重复的集合。

## Map

map是一种key-value对组成的集合。

Map集合是Set集合的扩展。

系统采用Hash算法决定集合元素的存储位置，这样可以保证快速存，取集合元素。

集合中保存的是对象的引用，并不是将Java对象放入set集合中。

## put方法

```java
public V put(K key, V value) {
    if(key == null) {
        // 如果key为null，调用putForNullKey方法进行处理
       return putForNullKey(value); 
    }
    // 根据key的keyCode计算Hash值
    int hash = hash(key.hashCode());
    // 搜索指定hash值在对应table中的索引
    int i = indexFor(hash, table.length);
    // 如果i索引处的Entry不为null,通过循环不断遍历e元素的下一个元素。
    for(Entry<K,V> e = table[i]; e != null; e = e.next) {
        Object k;
        // 找到指定key与需要放入的key相等
        if(e.hash == hash && ((k = e.key) == key || key.equals(k))) {
            V oldValue = e.value;
            e.value = value;
            e.recordAccess(this);
            return oldValue;
        }
    }
    // 如果i索引处的Entry为null,表明此处还没有Entry
    modCount++;
    // 将key、value添加到i索引处
    addEntry(hash,key,value,i);
    return null;
}
```

从源码可以看出当试图将一个key-value对放入HashMap中时，首先根据该key的hashCode()返回值决定该Entry的存储位置：如果两个Entry的key的hashCode()返回值相同，那它们的存储位置相同；如果这两个Entry的key通过equals比较返回true，新添加Entry的value将覆盖集合中原有Entry的value,但是key不会覆盖，如果这两个key比较返回fase,新添加的Entry将与集合中原有的Entry形成Entry链，而且新添加的Entry位于Entry链的头部。